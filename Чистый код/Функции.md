### Компактность
- Функции должны быть максимально компактными
- Желательно, чтобы длина функции не превышала 20 строк
- Много коротких и понятных функций лучше, чем одна длинная и непонятная

### Блоки и отступы
- Блоки команд `if`, `else`, `while` и т.д. должны состоять из одной строки, в которой обычно содержится вызов функции с удобным и содержательным именем
- Функции не должны содержать глубоко вложенных структур
- Максимальный уровень отступов в функции не должен превышать 1-2 уровня

### Правило одной операции
- Функция должна выполнять только одну операцию и выполнять ее хорошо
- Функция не должна выполнять ничего другого
- Чтобы определить, выполняет ли функция более одной операции, следует попробовать извлечь из нее другую функцию, которая бы не являлась простой переформулировкой операции

### Секции в функциях
- Функцию, выполняющую только одну операцию, невозможно осмысленно разделить на секции

### Один уровень абстракции на функцию
- Чтобы убедиться, что функция выполняет только одну операцию, необходимо проверить, что все команды функции находятся на одном уровне абстракции

### Чтение кода сверху вниз: правило понижения
- Код должен читаться как рассказ сверху вниз
- За каждой функцией должны следовать функции следующего уровня абстракции

### Команды switch
- Команды `switch` допустимы, если они встречаются в программе однократно
- Используются для создания полиморфных объектов и скрываются за отношениями наследования, чтобы оставаться невидимыми для остальной части системы

### Используйте содержательные имена
- Не бойтесь использовать длинные имена
- Длинное содержательное имя лучше короткого неразумного
- Не бойтесь расходовать время на выбор имени функции

### Аргументы функций
- В идеальном случае количество аргументов функции равно нулю
- Следует избегать функций с тремя и более аргументами
- Необходимость функций с большим количеством аргументов должна быть подкреплена очень вескими доводами, но даже в этом случае лучше их не использовать
- Аргументы усложняют функции и лишают их значительной части концептуальной мощи
- Большое количество аргументов вызывает проблемы при тестировании, так как сложно перебрать всевозможные варианты

### Стандартные унарные формы
- Существуют два распространных случая вызова функции с одним аргументом
- Первый случай — проверка некоторого условия, связанного с аргументом, второй — обработка аргумента, его преобразование и возвращение
- Выбирать имена следует так, чтобы четко отражались различия и всегда использовать обе формы в логически непротиворечивом контексте
- Еще один случай функции с одним аргументом — это событие
- В этом случае есть входной параметр, но нет выходного элемента
- Предполагается, что программа интерпретирует вызов функции как событие и использует аргумент для изменения состояния системы

### Аргументы-флаги
- Передача логического значения функции немедленно усложняет сигнатуру метода, так как функция выполняет более одной операции

### Бинарные функции
- Бинарные функции следует по возможности преобразовать в унарные

### Тернарные функции
- Создание тернарной функции должно быть очень оправдано
- Лучше по возможности избегать их создания

### Объекты как аргументы
- Если функция должна получать более двух или трёх аргументов, весьма вероятно, что некоторые из этих аргументов стоит упаковать в отдельный класс
- Если переменные передаются совместно как единое целое, то, скорее всего, вместе они образуют концепцию, заслуживающую собственного имени


### Глаголы и ключевые слова
- В бинарных функциях сама функция и её аргумент должны образовывать естественную пару глагол-существительное


### Избавьтесь от побочных эффектов
- Побочные эффекты — это ложь
- Функция не должна обещать делать что-то одно, но делать что-то другое, скрытое от пользователя
- Функция не должна неожиданно изменять переменные своего класса

### Выходные аргументы
- В общем случае выходных аргументов следует избегать
- Если ваша функция должна изменять состояние объекта, пусть она изменяет состояние своего объекта-владельца

### Разделение команд и запросов
- Функция должна что-то делать или отвечать на какой-то вопрос, но не одновременно
- Либо функция изменяет состояние объекта, либо возвращает информацию об этом объекте
- Совмещение двух операций часто создает путаницу

### Используйте исключения вместо возвращения кодов ошибок
- Возвращение кодов ошибок функциями-командами является неочевидным нарушением принципа разделения команды и запросов
- Если вместо возвращения кодов ошибок используют исключение, то код обработки ошибок изолируется от нормального выполнения и упрощается

### Изолируйте блоки try-catch
- Тела блоков `try-catch` рекомендуется выделять в отдельные функции
- Они запутывают структуру кода и смешивают обработку ошибок с нормальной обработкой


### Обработка ошибок как одна операция
- Функции должны выполнять одну операцию
- Обработка ошибок — это одна операция, значит функция, обрабатывающая ошибки, ничего другого делать не должна
- Если в функции присутствует ключевое слово `try`, то оно должно быть первым в функции, а после блоков `catch` и `finally` ничего другого быть не должно

### Магнит зависимостей Error
- Возвращение кода ошибки обычно подразумевает, что в программе имеется класс или перечисление, в котором определяются все коды ошибок
- Подобные классы называются магнитами зависимостей
- Вместо кодов ошибок следует использовать исключения
- Новые исключения определяются как производные от класса исключения, их включение в программу не требует перекомпиляции или повторного развёртывания
- Это пример принципа открытости-закрытости

### Не повторяйтесь
- Принцип DRY (Don't Repeat Yourself)
- Следует всегда выносить повторяющийся код в отдельные функции и использовать эти функции

### Структурное программирование
- Если ваши функции остаются очень компактными, редкие вкрапления множественных `return` команд, `break` и `continue` не принесут вреда
- Иногда даже повышают выразительность по сравнению с классической реализацией с одной точкой входа и одной точкой выхода

### Как научиться писать такие функции
- После написания рабочей функции следует её отрефакторить и привести в нормальный, красивый вид 