## Числовой тип данных

Числовые данные разделяются на точные и приближенные, на целые и вещественные. В отдельную категорию можно отнести битовые значения.

## Целые числа

| Тип | Объем памяти | Диапазон |
|-----|--------------|----------|
| `SMALLINT` | 2 байта | от -32768 до 32767 |
| `INT` / `INTEGER` (синонимы) | 4 байта | от -2147483648 до 2147483647 |
| `BIGINT` | 8 байт | от -9223372036854775808 до 9223372036854775807 |

Использование:

```sql
CREATE TABLE Products (
    id INTEGER,
    quantity SMALLINT,
    views_count BIGINT
);
```

Рекомендации:
- Используйте `SMALLINT` для небольших целых чисел (например, возраст, количество товара)
- Используйте `INTEGER` для стандартных целых чисел (ID, счётчики)
- Используйте `BIGINT` для больших чисел (счётчики просмотров, большие ID)

## Автоинкрементные типы

| Тип | Объем памяти | Диапазон |
|-----|--------------|----------|
| `SMALLSERIAL` | 2 байта | от 1 до 32767 |
| `SERIAL` | 4 байта | от 1 до 2147483647 |
| `BIGSERIAL` | 8 байт | от 1 до 9223372036854775807 |

Типы `SERIAL` являются псевдотипами для создания автоинкрементных столбцов. `SERIAL` эквивалентен `INTEGER` с автоматически создаваемой последовательностью.

Использование:

```sql
CREATE TABLE Users (
    id SERIAL PRIMARY KEY,
    username VARCHAR(50)
);
```

При добавлении новой записи поле `id` автоматически получит следующее значение:

```sql
INSERT INTO Users (username) VALUES ('john_doe');
```

Рекомендации:
- Используйте `SERIAL` для первичных ключей в большинстве таблиц
- Используйте `BIGSERIAL` если ожидается очень большое количество записей (миллиарды)
- Используйте `SMALLSERIAL` только если точно знаете, что записей будет меньше 32767

## Точные вещественные числа

| Тип | Точность | Диапазон |
|-----|----------|----------|
| `DECIMAL[(precision, scale)]` / `NUMERIC[(precision, scale)]` (синонимы) | Пользовательская | До 131072 цифр до десятичной точки и до 16383 цифр после |

Тип `NUMERIC` хранит точное вещественное значение данных. Он используется, когда точность является критически важной. Например, при хранении финансовых данных.

Параметры:
- `precision` — общее количество значащих цифр
- `scale` — количество цифр после десятичной точки

Пример использования:

```sql
CREATE TABLE Users (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255),
    salary NUMERIC(10, 2)
);
```

В этом примере `salary` может хранить числа с максимум 10 цифрами, 2 из которых после десятичной точки. Диапазон: от -99999999.99 до 99999999.99.

Примеры значений:

```sql
INSERT INTO Users (name, salary) VALUES 
    ('Alice', 75000.50),
    ('Bob', 125000.75),
    ('Charlie', 999999.99);
```

Рекомендации:
- Всегда используйте `NUMERIC` или `DECIMAL` для денежных значений
- Никогда не используйте типы с плавающей точкой для денег
- Указывайте точность явно: `NUMERIC(10, 2)` вместо просто `NUMERIC`

## Приближенные числа

| Тип | Объем памяти | Точность | Диапазон |
|-----|--------------|----------|----------|
| `REAL` | 4 байта | 6 знаков | от 1E-37 до 1E+37 |
| `DOUBLE PRECISION` | 8 байтов | 15 знаков | от 1E-307 до 1E+308 |

Типы с плавающей точкой используются для приближенных вычислений.

PostgreSQL также поддерживает специальные значения:
- `Infinity` — положительная бесконечность
- `-Infinity` — отрицательная бесконечность
- `NaN` — не число (Not a Number)

Использование:

```sql
CREATE TABLE Measurements (
    id SERIAL PRIMARY KEY,
    temperature REAL,
    precise_value DOUBLE PRECISION
);

INSERT INTO Measurements (temperature, precise_value) VALUES 
    (36.6, 3.14159265358979),
    ('Infinity', 'NaN');
```

Рекомендации:
- Используйте для научных вычислений и расчётов, где не требуется абсолютная точность
- НЕ используйте для финансовых данных
- Используйте `REAL` когда достаточно 6 знаков точности
- Используйте `DOUBLE PRECISION` когда нужна более высокая точность

## Сравнение типов

### Целые числа vs Автоинкрементные

```sql
-- Обычное целое число
CREATE TABLE Products (
    id INTEGER PRIMARY KEY,
    name VARCHAR(255)
);

-- Автоинкрементное поле
CREATE TABLE Products (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255)
);
```

### Точные vs Приближенные числа

```sql
-- Точные (для финансов)
CREATE TABLE Orders (
    id SERIAL PRIMARY KEY,
    total_amount NUMERIC(10, 2)
);

-- Приближенные (для научных расчётов)
CREATE TABLE Experiments (
    id SERIAL PRIMARY KEY,
    measurement DOUBLE PRECISION
);
```

## Примеры использования

```sql
CREATE TABLE Products (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    price NUMERIC(10, 2) NOT NULL,
    quantity SMALLINT DEFAULT 0,
    weight REAL,
    views_count BIGINT DEFAULT 0,
    rating DOUBLE PRECISION
);

INSERT INTO Products (name, price, quantity, weight, rating) VALUES 
    ('Laptop', 1299.99, 15, 2.5, 4.7),
    ('Mouse', 29.99, 150, 0.1, 4.3),
    ('Keyboard', 89.99, 50, 0.8, 4.5);
```

В этом примере:
- `id` — автоинкрементный первичный ключ
- `price` — точное число для денежных значений
- `quantity` — малое целое число
- `weight` — приближенное число (вес не критичен)
- `views_count` — большое целое число
- `rating` — приближенное число с высокой точностью
