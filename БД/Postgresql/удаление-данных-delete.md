## Удаление данных, оператор DELETE

Для удаления записей из таблицы предусмотрены операторы DELETE и TRUNCATE. Наиболее универсальным и безопасным является DELETE.

```sql
DELETE FROM имя_таблицы
[WHERE условие_отбора_записей];
```
Общая структура запроса с DELETE

Если условие отбора записей WHERE отсутствует, будут удалены все записи указанной таблицы.

## Оператор TRUNCATE

TRUNCATE выполняет удаление всех записей из таблицы. Работает быстрее, чем DELETE для больших таблиц, так как пересоздаёт таблицу заново.

```sql
TRUNCATE TABLE имя_таблицы;
```
Общая структура запроса с TRUNCATE

Отличия TRUNCATE от DELETE:
- Не срабатывают триггеры, в частности, триггер удаления
- Удаляет все строки в таблице, не записывая при этом удаление отдельных строк данных в журнал транзакций
- Сбрасывает счётчик идентификаторов до начального значения
- Для использования необходимы права на изменение таблицы

## Удаление записей при многотабличных запросах

Если в DELETE запросе используется JOIN, необходимо указать, из каких именно таблиц требуется удалять записи.

```sql
DELETE FROM имя_таблицы_1
USING имя_таблицы_2
WHERE имя_таблицы_1.поле = имя_таблицы_2.поле
[AND условие_отбора_записей];
```
Синтаксис DELETE с USING для многотабличных запросов

```sql
DELETE FROM Reservations
USING Rooms
WHERE Reservations.room_id = Rooms.id
AND Rooms.has_kitchen = false;
```
Удаляет все бронирования жилья, в котором отсутствует кухня

Для удаления из нескольких таблиц одновременно используются отдельные DELETE запросы в транзакции:

```sql
BEGIN;
DELETE FROM Reservations
USING Rooms
WHERE Reservations.room_id = Rooms.id
AND Rooms.has_kitchen = false;

DELETE FROM Rooms
WHERE Rooms.has_kitchen = false;
COMMIT;
```
Удаление из нескольких таблиц в транзакции
