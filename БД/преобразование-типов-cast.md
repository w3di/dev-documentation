
## Функции преобразования типов, CAST

Когда выполняются операции со значениями с разными типами данных, СУБД пытается выполнить преобразование и привести используемые значения к нужному типу.

```sql
SELECT '50' > 49 AS comparison_1, '50' > 51 AS comparison_2;
```
СУБД автоматически конвертирует строковое значение в числовое для сравнения

Но не все преобразования СУБД может сделать автоматически, и тогда необходимо делать явное преобразование типов.

## Синтаксис CAST

Для явного преобразования типов в PostgreSQL используется функция CAST и оператор ::.

```sql
CAST(значение AS тип_для_конвертации);
значение::тип_для_конвертации;
```
Два способа преобразования типов

```sql
SELECT CAST(12005.6 AS NUMERIC) AS cast_example, 12005.4::NUMERIC AS operator_example;
```
Пример использования CAST и оператора ::

## Типы для конвертации

Функция CAST умеет конвертировать переданное значение в следующие типы:

DATE:
- Конвертирует значение в DATE
- Формат: "YYYY-MM-DD"

TIMESTAMP:
- Конвертирует значение в TIMESTAMP
- Формат: "YYYY-MM-DD hh:mm:ss"

TIME:
- Конвертирует значение в TIME
- Формат: "hh:mm:ss"

NUMERIC[(M[,D])]:
- Конвертирует значение в NUMERIC
- Имеет два необязательных аргумента M и D, определяющих максимальное количество знаков до и после запятой соответственно

VARCHAR[(N)]:
- Конвертирует значение в VARCHAR
- В качестве необязательного аргумента можно передать максимальную длину строки

INTEGER:
- Конвертирует значение в целое число

BIGINT:
- Конвертирует значение в большое целое число

BOOLEAN:
- Конвертирует значение в логический тип

TEXT:
- Конвертирует значение в текстовый тип

## Невозможность конвертации

Использование функции CAST накладывает требования к формату исходного значения.

```sql
SELECT CAST('SQL Academy' AS TIMESTAMP) AS invalid_cast;
```
Попытка конвертировать случайный текст во временной тип данных

Если формат не соответствует необходимому, PostgreSQL вернёт ошибку, так как строка не может быть сконвертирована в нужный тип.

Функция CAST отвечает за конвертацию значения из одного типа данных в другой.
