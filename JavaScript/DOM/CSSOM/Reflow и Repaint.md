### 1. **Reflow (Перекомпоновка)**

Reflow происходит, когда нужно пересчитать **расположение** элементов на странице. Это происходит при изменениях, которые затрагивают **размеры** или **положение** элементов, таких как:

- Изменение размеров окна браузера.
- Изменение размера элемента через CSS (например, изменение ширины, высоты, margin, padding).
- Добавление или удаление элементов DOM.
- Изменение шрифтов или стилей, которые могут повлиять на размер шрифта.

Перерасчет одного элемента вызывает последующий перерасчет всех дочерних и родительских элементов в DOM.

### 2. **Repaint (Перерисовка)**

Repaint происходит, когда изменяются **визуальные стили** элемента, не влияющие на его геометрию. Например:

- Изменение цвета фона.
- Изменение цвета текста.
- Изменение теней или границ.

При перерисовке не пересчитываются размеры и положение элементов, но браузер должен обновить их внешний вид на экране.

### Взаимосвязь Reflow и Repaint

Обычно **Reflow** вызывает **Repaint**, потому что после пересчета компоновки (Reflow) элементы могут выглядеть по-другому, и их нужно перерисовать. Однако Repaint может происходить без Reflow, если изменения касаются только визуального оформления.

## Что вызывает перерасчеты и перерисовки:

- Перерасчет произойдет при добавлении, удалении, обновлении DOM-узлов.
- Скрытие DOM-элемента с помощью `display: none` вызовет и перерасчет, и перерисовку.
- Скрытие DOM-элемента с помощью `visibility: hidden` вызовет только перерисовку, так как макет и позиция элемента не изменяются.
- Перемещение и анимация DOM-узла вызовут и перерасчет, и перерисовку.
- Изменение размера окна вызовет перерасчет.
- Изменение стиля шрифта влияет на геометрию элемента, что может изменить положение или размер других элементов на странице, и это требует перерасчета. После завершения операций с макетом все поврежденные пиксели необходимо будет перерисовать.
- Добавление или удаление стилей вызовет перерасчет/перерисовку.
- Скрипты, манипулирующие DOM, являются дорогостоящими операциями, потому что они требуют пересчета каждый раз при изменении документа или его части. Как видно из множества факторов, вызывающих перерасчет, он может происходить тысячи раз в секунду.