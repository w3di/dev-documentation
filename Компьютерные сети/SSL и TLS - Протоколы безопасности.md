# SSL и TLS - Протоколы безопасности

## Введение в SSL/TLS

### Историческая справка
**День рождения Интернета:** 1 января 1983 года

**Первая защищенная продажа:**
- **Дата:** 1993 год (через 10 лет)
- **Продавец:** Дэн Кон
- **Покупатель:** друг
- **Товар:** CD-диск Стинга "Ten Summoner's Tales"
- **Цена:** $12.48

**Технические требования:**
- **Специальный браузер** - только для Linux
- **Шифрование** - хитрый алгоритм
- **Безопасность** - защита данных банковской карты
- **Сложность** - несколько часов установки и настройки

### Современная простота
**Сегодняшний процесс:**
1. **Добавление товара** - в корзину на маркетплейсе
2. **Оплата** - простой процесс
3. **Ожидание** - курьер постучится в дверь
4. **Простота** - "Изи"

**Ключ к простоте:** **Доверие** - основа современного интернета

## Рождение SSL

### Netscape и SSL
**Компания:** Netscape (1995 год)

**Разработка:**
- **Протокол SSL** - Secure Socket Layer
- **Назначение** - защищенный обмен информацией
- **Результат** - замочки в адресной строке браузера
- **Революция** - повышение доверия в интернете

### Эволюция SSL

#### SSL 1.0
**Статус:** Никогда не выходил в свет
**Проблема:** Остался только на компьютерах Netscape
**Результат:** Не использовался

#### SSL 2.0
**Проблема:** Взломан хакерами
**Время жизни:** Менее года
**Решение:** Отказ от использования
**Причина:** Недостаточная безопасность

#### SSL 3.0
**Разработка:** Netscape не сдавалась
**Подход:** "Заварили нескафе и начали работать"
**Конкуренция:** Microsoft с Internet Explorer
**Проблема:** Браузерные войны

### Переход к TLS

#### Браузерные войны (1999 год)
**Участники:**
- **Netscape** - с SSL
- **Microsoft** - с собственной версией
- **Проблема** - проприетарный кошмар
- **Контекст** - выходит сингл Бритни Спирс "Oops!... I Did It Again"

#### Решение проблемы
**Действия:**
1. **Открытость** - сделать протокол открытым
2. **Передача управления** - IETF (Internet Engineering Task Force)
3. **Условие** - переименование протокола
4. **Результат** - появление TLS

#### TLS (Transport Layer Security)
**Название:** Transport Layer Security
**Сокращение:** TLS
**Проблема:** Путаница с SSL до сих пор
**Описание:** "Цирк с конями"

## Современные версии TLS

### Устаревшие версии
**TLS 1.0 и 1.1:**
- **Статус:** Признаны устаревшими
- **Проблема:** Недостаточная безопасность
- **Рекомендация:** Не использовать

### Актуальные версии
**TLS 1.2 и 1.3:**
- **Статус:** Используются в приличном обществе
- **Безопасность:** Современные стандарты
- **Рекомендация:** Основные версии для использования

## Три принципа безопасности TLS

### 1. Конфиденциальность
**Определение:** Гарантия, что никто не сможет перехватить и прочитать данные.

**Принцип работы:**
- **Перехват возможен** - данные можно перехватить
- **Чтение невозможно** - без ключа данные нечитаемы
- **Результат** - "что-то на Клингонском языке"

**Пример:**
- **Отправка:** Рецепт крабсбургера другу
- **Перехват:** Данные выглядят как зашифрованный текст
- **Безопасность:** Только получатель может прочитать

### 2. Целостность
**Определение:** Гарантия, что данные никто не сможет изменить.

**Принцип работы:**
- **Защита от изменений** - данные нельзя модифицировать
- **Обнаружение изменений** - любые изменения будут замечены
- **Целостность данных** - информация остается неизменной

**Пример:**
- **Сообщение:** "Сегодня съел 10 хинкалек с грибочками и сыром"
- **Попытка изменения:** Хакер хочет изменить на "100 хинкальчиков"
- **Результат:** Изменение невозможно или будет обнаружено

### 3. Аутентификация
**Определение:** Гарантия, что сайт действительно тот, за кого себя выдает.

**Принцип работы:**
- **Проверка подлинности** - подтверждение личности сайта
- **Доверие** - зеленый замочек в браузере
- **Сертификаты** - документы, подтверждающие подлинность

**Компоненты:**
- **Сертификат** - документ, подтверждающий подлинность
- **Центр сертификации** - организация, выдающая сертификаты
- **Доверие** - основа безопасного общения

## Типы шифрования в TLS

### Симметричное шифрование
**Принцип:** Один ключ для шифрования и расшифровки.

**Аналогия с сундучком:**
- **Сообщение** - кладется в сундучок
- **Ключ** - закрывает сундучок
- **Копия ключа** - только у получателя
- **Открытие** - только с правильным ключом

**Проблема:**
- **Сложность обмена** - ключами очень сложно делиться
- **Безопасность** - копиями ключей лучше не разбрасываться
- **Секретность** - иначе никакой секретности не получится

### Асимметричное шифрование
**Принцип:** Два ключа - публичный и приватный, работают в паре.

**Публичный ключ:**
- **Можно рассылать** - кому угодно
- **Можно кричать** - в людных местах
- **Можно делать селфи** - с ключом
- **Можно набить татуху** - с ключом

**Приватный ключ:**
- **Секретность** - нужно держать в секрете
- **Безопасность** - никому не показывать
- **Критичность** - основа безопасности

**Процесс обмена:**
1. **Отправка публичного ключа** - амиго получает твой публичный ключ
2. **Шифрование сообщения** - амиго шифрует твоим публичным ключом
3. **Отправка зашифрованного** - сообщение приходит зашифрованным
4. **Расшифровка** - ты читаешь своим приватным ключом

## Процесс установления TLS соединения

### Участники процесса
**Клиент:** Твой любимый браузер
**Сервер:** Твой любимый сайт

### Двойное рукопожатие
**TCP рукопожатие:** Сначала устанавливается TCP соединение
**TLS рукопожатие:** Затем устанавливается TLS соединение

### Этапы TLS рукопожатия

#### 1. Client Hello
**Отправитель:** Браузер
**Содержимое:**
- **Запрос** - "Здаров, я тут безопасное соединение хочу установить"
- **Версии TLS** - поддерживаемые версии протокола
- **Алгоритмы шифрования** - список доступных алгоритмов
- **Вопрос** - "чё скажешь?"

#### 2. Server Hello
**Отправитель:** Сайт
**Содержимое:**
- **Согласие** - "Окэ, мне нравится вот эта версия TLS"
- **Выбор алгоритма** - "будем работать по этому алгоритму"
- **Сертификат** - "лови мой сертификат"
- **Публичный ключ** - "и публичный ключ"
- **Проверка** - "чекни, что я реально тот, за кого себя выдаю"

#### 3. Client Key Exchange
**Отправитель:** Браузер
**Процесс:**
- **Проверка сертификата** - "Серт в норме"
- **Проверка закрытого ключа** - "мне нужно проверить твой закрытый ключ"
- **Генерация pre-master key** - общий секретный ключ
- **Шифрование** - публичным ключом сервера
- **Вызов** - "посмотрим, сможешь ли ты расшифровать его!"

#### 4. Server Response
**Отправитель:** Сайт
**Процесс:**
- **Расшифровка** - "Да ваще изи, ща как возьму свой закрытый ключ"
- **Генерация shared secret** - главный секрет (сеансовый ключ)
- **Подтверждение** - "готово, лови!"

#### 5. Change Cipher Spec
**Отправитель:** Браузер
**Процесс:**
- **Тестовое сообщение** - "Я зашифровал тестовое сообщение"
- **Проверка** - "расшифруй его и пришли мне обратно"

#### 6. Finished
**Отправитель:** Сайт
**Процесс:**
- **Расшифровка теста** - "Изи, но постыдился бы ты такое писать"
- **Подтверждение** - "всё работает, погнали шифровать"
- **Готовность** - "все наши сообщения"

### Результат рукопожатия
**Сеансовый ключ:**
- **Симметричное шифрование** - для основного общения
- **Обмен через асимметричное** - безопасная передача ключа
- **Скорость** - миллисекунды, незаметно для пользователя

## Сертификаты и центры сертификации

### Центр сертификации (Certificate Authority)
**Определение:** Специальные организации, занимающиеся сертификатами.

**Функции:**
1. **Выпуск сертификатов** - создание документов
2. **Подтверждение личности** - владельца сертификата
3. **Проверка валидности** - что сертификат не протух

### Цепочка доверия
**Принцип:** Сертификаты может выпускать кто угодно, но замочек появляется только при связи с доверенным центром.

**Корневые центры (Root Certificate Authority):**
- **GoDaddy** - популярный центр
- **GlobalSign** - международный центр
- **DigiCert** - крупный провайдер
- **GeoTrust** - надежный центр

**Процесс проверки:**
1. **Скачивание сертификата** - с сайта
2. **Проверка срока** - не просрочен ли
3. **Проверка подписи** - кто подписал сертификат
4. **Цепочка подписей** - до корневого центра
5. **Подтверждение доверия** - "Ура, цепочке можно доверять!"

### Пример проверки
**Сайт:** wiki.merionet.ru
**Процесс:**
1. **Сертификат сайта** - подписан промежуточным центром
2. **Промежуточный сертификат** - подписан корневым центром
3. **Корневой центр** - доверенный центр
4. **Результат** - зеленый замочек, можно доверять

## Практическое применение

### Веб-сайты
**Обязательные элементы:**
- **HTTPS** - защищенное соединение
- **Сертификат** - подтверждение подлинности
- **Зеленый замочек** - визуальный индикатор безопасности

### Типы данных
**Защищаемые данные:**
- **Логины и пароли** - аутентификация
- **Банковские данные** - платежная информация
- **Персональные данные** - конфиденциальная информация
- **Голос и видео** - мультимедиа контент
- **Почта** - электронная переписка

### Современные требования
**Безопасность:**
- **Обязательное использование** - для всех сайтов
- **Автоматическое перенаправление** - с HTTP на HTTPS
- **Предупреждения браузера** - о небезопасных сайтах
- **SEO преимущества** - поисковые системы предпочитают HTTPS

## Современные тенденции

### TLS 1.3
**Улучшения:**
- **Быстрое рукопожатие** - меньше этапов
- **Улучшенная безопасность** - современные алгоритмы
- **Лучшая производительность** - оптимизация процесса

### Автоматизация
**Let's Encrypt:**
- **Бесплатные сертификаты** - для всех
- **Автоматическое обновление** - без вмешательства
- **Простота получения** - минимальные требования

### Будущее
**Квантовые вычисления:**
- **Новые угрозы** - для существующих алгоритмов
- **Пост-квантовая криптография** - новые методы защиты
- **Подготовка** - к квантовой эре

## Заключение

SSL/TLS протоколы являются основой современной интернет-безопасности:

**Ключевые достижения:**
1. **Три принципа безопасности** - конфиденциальность, целостность, аутентификация
2. **Двойное шифрование** - симметричное и асимметричное
3. **Безопасное рукопожатие** - установление защищенного соединения
4. **Система сертификатов** - подтверждение подлинности

**Практическая ценность:**
- **Защита данных** - от перехвата и изменения
- **Доверие пользователей** - визуальные индикаторы безопасности
- **Простота использования** - автоматическая работа
- **Универсальность** - защита любых типов данных

**Современное состояние:**
- **Обязательное использование** - для всех серьезных сайтов
- **Автоматизация** - простое получение сертификатов
- **Постоянное развитие** - новые версии и алгоритмы
- **Подготовка к будущему** - квантовые угрозы

SSL/TLS превратили интернет из небезопасной среды в надежную платформу для обмена данными, обеспечив основу для современной цифровой экономики.

