# Транспортный уровень (Transport Layer)

## Описание
Транспортный уровень (Transport Layer) - четвертый уровень модели OSI, обеспечивающий сквозную (end-to-end) связь между приложениями на разных хостах с контролем качества передачи данных.

## Основные функции
- **Сегментация данных** - разбиение больших блоков данных на сегменты для передачи
- **Сборка данных** - восстановление исходных данных из сегментов на стороне получателя
- **Контроль ошибок** - обнаружение и исправление ошибок передачи данных
- **Управление потоком** - контроль скорости передачи для предотвращения переполнения буферов
- **Мультиплексирование** - передача данных от нескольких приложений через один сетевой канал

## Протоколы транспортного уровня

### TCP (Transmission Control Protocol)
- **Тип протокола**: Надежный, ориентированный на соединение
- **Характеристики**:
  - **Гарантированная доставка** - подтверждение получения каждого сегмента
  - **Контроль ошибок** - автоматическая повторная передача поврежденных данных
  - **Установление соединения** - трехэтапное рукопожатие (SYN, SYN-ACK, ACK)
  - **Упорядочивание сегментов** - восстановление правильной последовательности
  - **Управление потоком** - контроль скорости передачи через окно скольжения
- **Порты**: 0-65535, системные порты 0-1023
- **Примеры использования**: HTTP, HTTPS, FTP, SMTP, SSH

### UDP (User Datagram Protocol)
- **Тип протокола**: Ненадежный, дейтаграммный
- **Характеристики**:
  - **Быстрая передача** - минимальная задержка
  - **Низкие накладные расходы** - простой заголовок 8 байт
  - **Отсутствие гарантий** - нет подтверждений и повторных передач
  - **Отсутствие соединения** - каждый пакет независим
  - **Мультиплексирование** - поддержка нескольких приложений
- **Порты**: 0-65535, динамические порты 49152-65535
- **Примеры использования**: DNS, DHCP, SNMP, VoIP, видеопотоки

## Принцип выбора протокола
- **Трафик чувствителен к потерям?** → TCP
- **Можно немного потерять?** → UDP

## Характеристики
- **Сквозная связь** - обеспечивает связь между приложениями на разных хостах
- **Управление надежностью** - контроль качества передачи данных
- **Портовая адресация** - использование портов для идентификации приложений
- **Протокол-независимость** - может работать с различными сетевыми протоколами
- **Масштабируемость** - поддерживает множественные соединения одновременно

## Конспект из лекции

> "Транспортный уровень, как можно понять из названия, обеспечивает передачу данных по сети. Он предназначен для обеспечения надежной передачи данных от отправителя к получателю. Здесь две основных рок-звезды – TCP и UDP. Разница в том, что различный транспорт применяется для разной категории трафика."

> "Трафик чувствителен к потерям? Нет проблем. TCP – Transmission Control Protocol. Он обеспечивает контроль за передачей данных. Например, документ, пересылаемый по почте, хорошо получить без ошибок и в том виде, в котором мы его отправляли. А даже один измененный бит в пароле, и сервер уже нас не пропустит."

> "Немного потеряем? Не страшно! UDP – User Datagram Protocol. По факту сейчас, когда вы смотрите это видео, пару пакетов могло и потеряться. Небольшой артефакт? Неприятно, но не критично."

> "По вседневной работе сетевой инженер взаимодействует с первыми четырьмя уровнями — физическим, канальным, сетевым и транспортным."
