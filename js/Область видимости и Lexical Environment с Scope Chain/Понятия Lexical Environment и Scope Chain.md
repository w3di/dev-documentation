
### Lexical Environment (Лексическое окружение)

В JavaScript у каждой функции, блока кода и скрипта есть внутренний объект, называемый _лексическим окружением_ (`LexicalEnvironment`). Он состоит из двух частей:

1. **Environment Record** – объект, хранящий локальные переменные и другую информацию.
2. Ссылка на _внешнее лексическое окружение_ – окружение кода снаружи текущего блока.

- Переменная – это свойство специального внутреннего объекта, связанного с текущим выполняющимся блоком/функцией/скриптом.
- Работа с переменными – это на самом деле работа со свойствами этого объекта.

Когда JavaScript ищет переменную, он сначала проверяет текущее лексическое окружение. Если переменная не найдена, поиск продолжается в родительском окружении, пока не будет достигнута глобальная область видимости. Эта цепочка поиска называется **Scope Chain**.

### *Scope Chain* (Цепочка областей видимости)
 в JavaScript определяет, как функции получают доступ к переменным. Это иерархия областей видимости, через которую JavaScript ищет переменные.

**Как работает Scope Chain**

При обращении к переменной JavaScript сначала ищет её в текущей области видимости. Если переменная не найдена, поиск продолжается в родительских областях, и так до глобальной области. Если переменная не найдена и там, возникает ошибка `ReferenceError`.


Пример:
```js
const globalVar = "I am global";

function outerFunction() {
  const outerVar = "I am outer";

  function innerFunction() {
    const innerVar = "I am inner";
    console.log(innerVar); // "I am inner"
    console.log(outerVar); // "I am outer"
    console.log(globalVar); // "I am global"
  }

  innerFunction();
}

outerFunction();
```

**Поиск переменных происходит следующим образом:**
1. **`innerFunction`**:
    - Сначала ищет `innerVar` в своей собственной области видимости. Находит переменную и выводит её значение.
    - Если `innerVar` не была бы найдена, продолжил бы поиск в `outerFunction`.
      
2. **`outerFunction`**:
    - Если переменная `innerVar` не найдена, `innerFunction` ищет `outerVar` в области видимости `outerFunction`, где она объявлена. Находит переменную и выводит её значение.
      
3. **`globalVar`**:
    - Если переменная не найдена в области видимости `outerFunction`, поиск продолжается в глобальной области видимости, где находится `globalVar`.

