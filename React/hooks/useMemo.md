—ç—Ç–æ —Ö—É–∫ React, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –º–µ–∂–¥—É –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∞–º–∏.

```jsx
import { useMemo } from 'react';

function TodoList({ todos, tab }) {
  const visibleTodos = useMemo(
    () => filterTodos(todos, tab),
    [todos, tab]
  );
  // ...
}
```


```jsx
useMemo(calculateValue, dependencies)
```
## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

- **calculateValue**: –§—É–Ω–∫—Ü–∏—è, –≤—ã—á–∏—Å–ª—è—é—â–∞—è –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è. –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —á–∏—Å—Ç–æ–π, –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤. React –≤—ã–∑—ã–≤–∞–µ—Ç –µ—ë –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–µ –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ ‚Äî —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.
    
- **dependencies**: –°–ø–∏—Å–æ–∫ –∑–Ω–∞—á–µ–Ω–∏–π, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ —Å—Å—ã–ª–∞–µ—Ç—Å—è `calculateValue` (props, —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞). React –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∂–¥—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —á–µ—Ä–µ–∑ `Object.is`, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è.

## –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç

- –ü—Ä–∏ –ø–µ—Ä–≤–æ–π –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–µ `useMemo` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç `calculateValue`.

- –ü—Ä–∏ —Å–ª–µ–¥—É—é—â–∏—Ö –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∞—Ö –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –µ—Å–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å; –∏–Ω–∞—á–µ –≤—ã–∑—ã–≤–∞–µ—Ç `calculateValue` –∑–∞–Ω–æ–≤–æ.

## –ü—Ä–µ–¥–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–∏—è
-–ï—Å–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö), React —É–¥–∞–ª–∏—Ç –∫—ç—à –∏ –ø–µ—Ä–µ—Å—á–∏—Ç–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º —Ä–µ–Ω–¥–µ—Ä–µ.


### –ö–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –∑–∞—Ç—Ä–∞—Ç–Ω—ã–º?

–ï—Å–ª–∏ –≤—ã –Ω–µ —Å–æ–∑–¥–∞–µ—Ç–µ –∏ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ —Ç—ã—Å—è—á–∏ –æ–±—ä–µ–∫—Ç–æ–≤, –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∑–∞—Ç—Ä–∞—Ç–Ω—ã–º. –ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —ç—Ç–æ, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

```jsx
console.time('filter array');
const visibleTodos = filterTodos(todos, tab);
console.timeEnd('filter array');
```

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞ –≤ –ø–æ–ª–µ) –≤—ã —É–≤–∏–¥–∏—Ç–µ –ª–æ–≥, –Ω–∞–ø—Ä–∏–º–µ—Ä: `filter array: 0.15ms`. –ï—Å–ª–∏ –≤—Ä–µ–º—è –∑–∞–º–µ—Ç–Ω–æ–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç 1 –º—Å –∏ –≤—ã—à–µ), —Å—Ç–æ–∏—Ç –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é `useMemo`:

```jsx
console.time('filter array');
const visibleTodos = useMemo(() => {
  return filterTodos(todos, tab); // –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è, –µ—Å–ª–∏ todos –∏ tab –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å
}, [todos, tab]);
console.timeEnd('filter array');
```

`useMemo` –Ω–µ —É—Å–∫–æ—Ä—è–µ—Ç –ø–µ—Ä–≤—ã–π —Ä–µ–Ω–¥–µ—Ä, –Ω–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –ª–∏—à–Ω–∏—Ö —Ä–∞—Å—á–µ—Ç–æ–≤ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö. –ö–æ–º–ø—å—é—Ç–µ—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ–±—ã—á–Ω–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ –≤–∞—à–µ–≥–æ, –ø–æ—ç—Ç–æ–º—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¶–ü –≤ Chrome) –ø–æ–º–æ–∂–µ—Ç –æ—Ü–µ–Ω–∏—Ç—å —Ä–µ–∞–ª—å–Ω—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å. –¢–∞–∫–∂–µ –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏ –ª—É—á—à–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ, —Ç–∞–∫ –∫–∞–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–º–µ—Ä—ã –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ—Ç–æ—á–Ω—ã–º–∏.

### –°–ª–µ–¥—É–µ—Ç –ª–∏ –¥–æ–±–∞–≤–ª—è—Ç—å `useMemo` –ø–æ–≤—Å—é–¥—É?

–ï—Å–ª–∏ –≤ –≤–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –æ—Å–Ω–æ–≤–Ω—ã–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è ‚Äî –∑–∞–º–µ–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –∏–ª–∏ —Ä–∞–∑–¥–µ–ª–æ–≤, –º–µ–º–æ–∏–∑–∞—Ü–∏—è –æ–±—ã—á–Ω–æ –Ω–µ –Ω—É–∂–Ω–∞. –ù–æ –¥–ª—è –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π, –∫–∞–∫ –≤ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞—Ö, –æ–Ω–∞ –ø–æ–ª–µ–∑–Ω–∞.

–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å –ø–æ–º–æ—â—å—é `useMemo` –∏–º–µ–µ—Ç —Å–º—ã—Å–ª –≤ —Å–ª—É—á–∞—è—Ö, –∫–æ–≥–¥–∞:

- –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –º–µ–¥–ª–µ–Ω–Ω–æ–µ, –∞ –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ä–µ–¥–∫–æ –∏–∑–º–µ–Ω—è—é—Ç—Å—è.
- –í—ã –ø–µ—Ä–µ–¥–∞–µ—Ç–µ –µ–≥–æ –∫–∞–∫ –ø—Ä–æ–ø—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É, –æ–±–µ—Ä–Ω—É—Ç–æ–º—É –≤ `memo`, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ª–∏—à–Ω–µ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞.
- –ó–Ω–∞—á–µ–Ω–∏–µ, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º–æ–µ –≤ `useMemo`, –ø–æ–∑–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö –¥—Ä—É–≥–∏—Ö —Ö—É–∫–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `useEffect`).

–ï—Å–ª–∏ –∂–µ –Ω–∏ –æ–¥–Ω–æ –∏–∑ —É—Å–ª–æ–≤–∏–π –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ, –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –≤ `useMemo` –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ. –û–¥–Ω–∞–∫–æ —á—Ä–µ–∑–º–µ—Ä–Ω–∞—è –º–µ–º–æ–∏–∑–∞—Ü–∏—è –º–æ–∂–µ—Ç —É—Ö—É–¥—à–∏—Ç—å —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞. –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π, –µ—Å–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–∞—Å—Ç–æ –º–µ–Ω—è—é—Ç—Å—è, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–æ–≤—Ç–æ—Ä–Ω—ã–º —Ä–∞—Å—á–µ—Ç–∞–º.

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ `useMemo`

–ú–Ω–æ–≥–æ –º–µ–º–æ–∏–∑–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –∏–∑–±–µ–∂–∞—Ç—å, –µ—Å–ª–∏ —Å–æ–±–ª—é–¥–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:

- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±–µ—Ä—Ç—ã–≤–∞—é—â–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø—Ä–∏–Ω–∏–º–∞–π—Ç–µ –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∫–∞–∫ JSX, —á—Ç–æ–±—ã –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä–æ–¥–∏—Ç–µ–ª—è React –Ω–µ —Ä–µ–Ω–¥–µ—Ä–∏–ª –∏—Ö –∑–∞–Ω–æ–≤–æ.
- –ò–∑–±–µ–≥–∞–π—Ç–µ –ø–æ–¥–Ω–∏–º–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤—ã—à–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ —É—Ä–æ–≤–Ω—è.
- –î–µ—Ä–∂–∏—Ç–µ –ª–æ–≥–∏–∫—É —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ ¬´—á–∏—Å—Ç–æ–π¬ª. –ï—Å–ª–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –≤—ã–∑—ã–≤–∞–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã, –∏—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫—É, –∞ –Ω–µ –º–µ–º–æ–∏–∑–∏—Ä—É–π—Ç–µ.
- –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–π—Ç–µ —ç—Ñ—Ñ–µ–∫—Ç—ã, –æ–±–Ω–æ–≤–ª—è—é—â–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ —Ä–µ–Ω–¥–µ—Ä—ã.
- –£–±–∏—Ä–∞–π—Ç–µ –Ω–µ–Ω—É–∂–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤. –ß–∞—Å—Ç–æ –ø—Ä–æ—â–µ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –æ–±—ä–µ–∫—Ç –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏—é –≤–Ω—É—Ç—Ä—å —ç—Ñ—Ñ–µ–∫—Ç–∞, —á–µ–º –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Ö.

–ï—Å–ª–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –≤—Å–µ –µ—â–µ –∫–∞–∂–µ—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω—ã–º, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ—Ñ–∞–π–ª–µ—Ä React –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –¥–æ–±–∞–≤—å—Ç–µ –º–µ–º–æ–∏–∑–∞—Ü–∏—é —Ç–æ–ª—å–∫–æ —Ç–∞–º, –≥–¥–µ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ.

## –ü—Ä–æ–ø—É—Å–∫ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

–î–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `useMemo`, —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –Ω–µ–Ω—É–∂–Ω—ã–µ –ø–µ—Ä–µ—Å—á—ë—Ç—ã –¥–∞–Ω–Ω—ã—Ö, –µ—Å–ª–∏ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å.

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `TodoList` –ø–µ—Ä–µ–¥–∞—ë—Ç `visibleTodos` –≤ –¥–æ—á–µ—Ä–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `List`:

```jsx
export default function TodoList({ todos, tab, theme }) {
  // ...
  return (
    <div className={theme}>
      <List items={visibleTodos} />
    </div>
  );
}
```

–í—ã –∑–∞–º–µ—Ç–∏–ª–∏, —á—Ç–æ –ø—Ä–∏ —Å–º–µ–Ω–µ —Ç–µ–º—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥—Ç–æ—Ä–º–∞–∂–∏–≤–∞–µ—Ç. –ï—Å–ª–∏ —É–±—Ä–∞—Ç—å `<List />` –∏–∑ JSX, —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ. –≠—Ç–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ `List`. React –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ–≤—Ç–æ—Ä–Ω–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç –≤—Å–µ—Ö –¥–µ—Ç–µ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –ø–æ—ç—Ç–æ–º—É –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `theme` —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –∏ `List`. –ï—Å–ª–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ `List` –∑–∞–Ω–∏–º–∞–µ—Ç –º–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å–æ–≤, –æ–±–µ—Ä–Ω–∏—Ç–µ –µ–≥–æ –≤ `memo`, —á—Ç–æ–±—ã –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –ø—Ä–∏ —Ç–µ—Ö –∂–µ –ø—Ä–æ–ø—Å–∞—Ö:

```jsx
import { memo } from 'react';

const List = memo(function List({ items }) {
  // ...
});
```

–¢–µ–ø–µ—Ä—å `List` –±—É–¥–µ—Ç –∏–∑–±–µ–≥–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞, –µ—Å–ª–∏ –µ–≥–æ –ø—Ä–æ–ø—Å—ã –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å. –ù–æ —á—Ç–æ–±—ã `memo` —Ä–∞–±–æ—Ç–∞–ª, –ø—Ä–æ–ø—Å—ã –¥–æ–ª–∂–Ω—ã –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏. –í —Ç–µ–∫—É—â–µ–º –ø—Ä–∏–º–µ—Ä–µ —Ñ—É–Ω–∫—Ü–∏—è `filterTodos` –≤—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤:

```jsx
export default function TodoList({ todos, tab, theme }) {
  const visibleTodos = filterTodos(todos, tab);
  return (
    <div className={theme}>
      <List items={visibleTodos} />
    </div>
  );
}
```

–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ `List` –±—É–¥–µ—Ç –≤—Å–µ–≥–¥–∞ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å—Å—è –∑–∞–Ω–æ–≤–æ. –ó–¥–µ—Å—å –ø–æ–º–æ–∂–µ—Ç `useMemo`:

```jsx
export default function TodoList({ todos, tab, theme }) {
  const visibleTodos = useMemo(
    () => filterTodos(todos, tab),
    [todos, tab]
  );
  return (
    <div className={theme}>
      <List items={visibleTodos} />
    </div>
  );
}
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `useMemo` –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç, —á—Ç–æ `visibleTodos` –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —Ç–µ–º –∂–µ –æ–±—ä–µ–∫—Ç–æ–º, –µ—Å–ª–∏ `todos` –∏ `tab` –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç `List` –∏–∑–±–µ–∂–∞—Ç—å –Ω–µ–Ω—É–∂–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞.

### –ú–µ–º–æ–∏–∑–∞—Ü–∏—è JSX —É–∑–ª–æ–≤ —Å useMemo

–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `List` –≤ `memo`, –º–æ–∂–Ω–æ –æ–±–µ—Ä–Ω—É—Ç—å —Å–∞–º —É–∑–µ–ª JSX `<List />` —Å –ø–æ–º–æ—â—å—é `useMemo`:

```jsx
export default function TodoList({ todos, tab, theme }) {
  const visibleTodos = useMemo(() => filterTodos(todos, tab), [todos, tab]);
  const children = useMemo(() => <List items={visibleTodos} />, [visibleTodos]);

  return (
    <div className={theme}>
      {children}
    </div>
  );
}
```

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ `List`, –µ—Å–ª–∏ `visibleTodos` –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å. JSX-—É–∑–µ–ª `<List items={visibleTodos} />` —Å–æ–∑–¥–∞–µ—Ç—Å—è –∫–∞–∫ –æ–±—ä–µ–∫—Ç `{ type: List, props: { items: visibleTodos } }`, –∏ React –Ω–µ –∑–Ω–∞–µ—Ç, –∏–∑–º–µ–Ω–∏–ª—Å—è –ª–∏ –æ–Ω, –ø–æ—ç—Ç–æ–º—É —Ä–µ–Ω–¥–µ—Ä–∏—Ç –µ–≥–æ –∫–∞–∂–¥—ã–π —Ä–∞–∑.

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `useMemo` –¥–µ–ª–∞–µ—Ç —É–∑–µ–ª —Ç–µ–º –∂–µ –æ–±—ä–µ–∫—Ç–æ–º –º–µ–∂–¥—É —Ä–µ–Ω–¥–µ—Ä–∞–º–∏, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç React –∏–∑–±–µ–∂–∞—Ç—å –ª–∏—à–Ω–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.

## –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç–æ–≥–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞

–ò–Ω–æ–≥–¥–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –µ–≥–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º—É —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—é.

```jsx
function ChatRoom({ roomId }) {  
  const [message, setMessage] = useState('');  
  const options = { serverUrl: 'https://localhost:1234', roomId: roomId }; 

  useEffect(() => {    
    const connection = createConnection(options);    
    connection.connect();    
    return () => connection.disconnect();  
  }, [options]); // üî¥ –ü—Ä–æ–±–ª–µ–º–∞: –±—É–¥–µ—Ç –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ
}
```

–ü—Ä–∏ —É–∫–∞–∑–∞–Ω–∏–∏ `options` –∫–∞–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, —ç—Ñ—Ñ–µ–∫—Ç –±—É–¥–µ—Ç —Å—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–µ–Ω–¥–µ—Ä–∞, —á—Ç–æ –≤—ã–∑–æ–≤–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.

#### –†–µ—à–µ–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `useMemo`

–ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã, –æ–±–µ—Ä–Ω–∏—Ç–µ –æ–±—ä–µ–∫—Ç `options` –≤ `useMemo`:

```jsx
function ChatRoom({ roomId }) {  
  const [message, setMessage] = useState('');  
  const options = useMemo(() => ({ 
    serverUrl: 'https://localhost:1234', 
    roomId: roomId 
  }), [roomId]); // ‚úÖ –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ roomId

  useEffect(() => {    
    const connection = createConnection(options);    
    connection.connect();    
    return () => connection.disconnect();  
  }, [options]); // ‚úÖ –°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ options
}
```
–¢–µ–ø–µ—Ä—å `options` –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É —Ä–µ–Ω–¥–µ—Ä–∞–º–∏, –ø–æ–∫–∞ –Ω–µ –∏–∑–º–µ–Ω–∏—Ç—Å—è `roomId`. –û–¥–Ω–∞–∫–æ `useMemo` ‚Äî —ç—Ç–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –∞ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –∏–∑–±–µ–∂–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

### –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥: –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –≤–Ω—É—Ç—Ä–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞

–í–º–µ—Å—Ç–æ `useMemo` –º–æ–∂–Ω–æ –ø–æ–º–µ—Å—Ç–∏—Ç—å –æ–±—ä–µ–∫—Ç `options` –ø—Ä—è–º–æ –≤–Ω—É—Ç—Ä—å `useEffect`, –ø–æ–ª–Ω–æ—Å—Ç—å—é —É—Å—Ç—Ä–∞–Ω–∏–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```jsx
function ChatRoom({ roomId }) {  
  const [message, setMessage] = useState('');  

  useEffect(() => {    
    const options = { 
      serverUrl: 'https://localhost:1234', 
      roomId: roomId 
    }; // ‚úÖ –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ useMemo –∏–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö

    const connection = createConnection(options);    
    connection.connect();    
    return () => connection.disconnect();  
  }, [roomId]); // ‚úÖ –°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ roomId
}
```

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∫–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—Ä–æ—â–µ –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

## –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥—Ä—É–≥–æ–≥–æ —Ö—É–∫–∞

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —É –≤–∞—Å –µ—Å—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ–±—ä–µ–∫—Ç–∞, —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –ø—Ä—è–º–æ –≤ —Ç–µ–ª–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:

```jsx
function Dropdown({ allItems, text }) {   
  const searchOptions = { matchMode: 'whole-word', text };   
  const visibleItems = useMemo(() => {    
    return searchItems(allItems, searchOptions);  
  }, [allItems, searchOptions]); // üö© –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –æ–±—ä–µ–∫—Ç–∞, —Å–æ–∑–¥–∞—é—â–µ–≥–æ—Å—è –≤ —Ç–µ–ª–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
}
```

–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –æ–±—ä–µ–∫—Ç–∞, —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, —Å–≤–æ–¥–∏—Ç –Ω–∞ –Ω–µ—Ç —Å–º—ã—Å–ª –º–µ–º–æ–∏–∑–∞—Ü–∏–∏. –ü—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ `searchOptions` —Å–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–Ω–æ–≤–æ, –∏ `useMemo` —Å—á–∏—Ç–∞–µ—Ç, —á—Ç–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å, –ø–æ—ç—Ç–æ–º—É –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç `searchItems` –∫–∞–∂–¥—ã–π —Ä–∞–∑. –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–≥–æ, –º–æ–∂–Ω–æ –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–∞–º `searchOptions`:

```jsx
function Dropdown({ allItems, text }) {   
  const searchOptions = useMemo(() => ({ matchMode: 'whole-word', text }), [text]); // ‚úÖ –ú–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ text   
  const visibleItems = useMemo(() => {    
    return searchItems(allItems, searchOptions);  
  }, [allItems, searchOptions]); // ‚úÖ –ú–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ allItems –∏–ª–∏ searchOptions
}
```

–¢–µ–ø–µ—Ä—å –æ–±—ä–µ–∫—Ç `searchOptions` –±—É–¥–µ—Ç –º–µ–Ω—è—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `text`. –ù–æ –µ—â–µ –ª—É—á—à–µ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ `searchOptions` –≤–Ω—É—Ç—Ä—å `useMemo`:

```jsx
function Dropdown({ allItems, text }) {   
  const visibleItems = useMemo(() => {    
    const searchOptions = { matchMode: 'whole-word', text };    
    return searchItems(allItems, searchOptions);  
  }, [allItems, text]); // ‚úÖ –ú–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ allItems –∏–ª–∏ text
}
```

–¢–µ–ø–µ—Ä—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å ‚Äî —Å—Ç—Ä–æ–∫–∞ `text`, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è ¬´—Å–ª—É—á–∞–π–Ω–æ¬ª, –∫–∞–∫ –æ–±—ä–µ–∫—Ç.

## –ú–µ–º–æ–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏

–ï—Å–ª–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `Form` –æ–±–µ—Ä–Ω—É—Ç –≤ `memo`, –≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –µ–º—É —Ñ—É–Ω–∫—Ü–∏—é –∫–∞–∫ –ø—Ä–æ–ø—Å:

```jsx
export default function ProductPage({ productId, referrer }) {   
  function handleSubmit(orderDetails) {    
    post('/product/' + productId + '/buy', { referrer, orderDetails });  
  }   
  return <Form onSubmit={handleSubmit} />;
}
```

–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ —Å–∞–º–æ –ø–æ —Å–µ–±–µ –Ω–µ –ø—Ä–æ–±–ª–µ–º–∞, –Ω–æ –≤ —Å–ª—É—á–∞–µ –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ `Form` —ç—Ç–æ —Å–≤–æ–¥–∏—Ç –Ω–∞ –Ω–µ—Ç —Å–º—ã—Å–ª –º–µ–º–æ–∏–∑–∞—Ü–∏–∏, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–æ–ø—Å—ã –≤—Å–µ–≥–¥–∞ –±—É–¥—É—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏. –ß—Ç–æ–±—ã –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é —Å –ø–æ–º–æ—â—å—é `useMemo`, —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –¥—Ä—É–≥—É—é —Ñ—É–Ω–∫—Ü–∏—é:

```jsx
export default function Page({ productId, referrer }) {   
  const handleSubmit = useMemo(() => {    
    return (orderDetails) => {      
      post('/product/' + productId + '/buy', { referrer, orderDetails });    
    };  
  }, [productId, referrer]);   
  return <Form onSubmit={handleSubmit} />;
}
```

–ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `useCallback`:

```jsx
export default function Page({ productId, referrer }) {   
  const handleSubmit = useCallback((orderDetails) => {    
    post('/product/' + productId + '/buy', { referrer, orderDetails });  
  }, [productId, referrer]);   
  return <Form onSubmit={handleSubmit} />;
}
```

–û–±–∞ –ø—Ä–∏–º–µ—Ä–∞ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω—ã, –Ω–æ `useCallback` –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –ª–∏—à–Ω–µ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏.